(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{278:function(e,t,a){e.exports=a.p+"static/media/soundcloud-tile.319a0a00.svg"},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){"use strict";var l=a(20),n=a.n(l),r=a(34),c=a(5),s=a(0),i=a.n(s),m=a(13),o=a(50),u=a(382),d=a(383),p=a(384);t.a=function(e){var t=e.name,a=e.label,l=e.value,f=Object(m.g)().setFieldValue,b=Object(s.useRef)(),v=Object(s.useState)(""),h=Object(c.a)(v,2),E=h[0],x=h[1],g=Object(s.useState)(!1),y=Object(c.a)(g,2),w=y[0],N=y[1];Object(s.useEffect)((function(){l&&x(l)}),[]);var j=function(){b.current.click()},L=function(){var e=Object(r.a)(n.a.mark((function e(t){var a,l,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),a=t.target.files,(l=new FormData).append("file",a[0]),l.append("upload_preset","eventlogos"),e.next=7,fetch("https://api.cloudinary.com/v1_1/dftxjfft8/image/upload",{method:"POST",body:l});case 7:return r=e.sent,e.next=10,r.json();case 10:c=e.sent,N(!1),c.secure_url&&(x(c.secure_url),f(b.current.name,c.secure_url));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"flex flex-col items-center form-control text-center"},i.a.createElement("label",{htmlFor:t,className:"text-gray-500"},a),i.a.createElement(m.b,null,(function(){return i.a.createElement("div",null,i.a.createElement("input",{type:"file",name:t,ref:b,id:t,onChange:L,accept:".jpeg,.png,.jpg",style:{display:"none"}}))})),i.a.createElement("div",{className:"flex items-center justify-center rounded-md border border-gray-600 h-24 w-24 overflow-hidden mt-1 object-cover relative"},!E&&!w&&i.a.createElement(u.a,{htmlColor:"#4a5568",fontSize:"large",titleAccess:"Add Image","aria-label":"Add Image",className:"mb-1 mr-1 hover:text-gray-300 cursor-pointer",onClick:j}),w&&i.a.createElement("div",{className:"content-center lds-dual-ring cursor-wait"}),E&&!w&&i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:E,className:"object-cover",alt:"preview"}),i.a.createElement("div",{className:"flex w-24 px-4 absolute bottom-0 mb-1 justify-around"},i.a.createElement(d.a,{className:"text-gray-400 hover:text-white cursor-pointer",titleAccess:"Replace Image","aria-label":"Replace Image",onClick:j}),i.a.createElement(p.a,{className:"text-gray-400 hover:text-white cursor-pointer",titleAccess:"Remove Remove","aria-label":"Remove Image",onClick:function(){x(""),f(b.current.name,"")}})))),i.a.createElement(m.a,{name:t,component:o.a}))}},311:function(e,t,a){"use strict";var l=a(0),n=a.n(l),r=a(13),c=a(325),s=a(272),i=a.n(s),m=a(271),o=(a(306),a(307),a(6)),u=a(129),d=a.n(u),p=a(47),f=a(281),b=a.n(f),v=a(282),h=a.n(v),E=a(283),x=a.n(E),g=a(326),y=a(278),w=a.n(y);a(308);var N=function(e){var t=e.schedule,a=e.index;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0 flex content-center"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement("div",{className:"pt-2"},n.a.createElement(b.a,{htmlColor:"#3b5998",fontSize:"large"})),name:"scheduleList[".concat(a,"].socialList.facebook"),value:t.socialList.facebook})),n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0 flex justify-start"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement("div",{className:"pt-2"},n.a.createElement(h.a,{htmlColor:"#4099ff",fontSize:"large"})),name:"scheduleList[".concat(a,"].socialList.twitter"),value:t.socialList.twitter}))),n.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0 flex justify-start"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement("div",{className:"pt-2"},n.a.createElement(x.a,{htmlColor:"#c4302b",fontSize:"large"})),name:"scheduleList[".concat(a,"].socialList.youtube"),value:t.socialList.youtube})),n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0 flex justify-start"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement("div",{className:"pt-2 mr-1 ml-1"},n.a.createElement(g.a,null,n.a.createElement("img",{src:w.a,height:25,width:30,alt:"SoundCloud"}))),name:"scheduleList[".concat(a,"].socialList.soundcloud"),value:t.socialList.soundcloud}))))};a(309),a(150);var j=function(e){var t=e.schedule,a=e.index;return n.a.createElement(d.a,{trigger:"Add event information and social media links"},n.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},n.a.createElement("div",{className:"w-full px-3 mb-6 md:mb-0"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement(n.a.Fragment,null,"Event title ",n.a.createElement("span",{className:"text-gray-700"},"(Optional)")),name:"scheduleList[".concat(a,"].etitle"),value:t.etitle}))),n.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},n.a.createElement("div",{className:"w-full px-3 mb-6 md:mb-0"},n.a.createElement("div",{className:"mb-4"},n.a.createElement(p.a,{control:"textarea",label:n.a.createElement(n.a.Fragment,null,"Artist/Band biography"," ",n.a.createElement("span",{className:"text-gray-700"},"(Optional)")),name:"scheduleList[".concat(a,"].biography"),rows:"3",value:t.biography})))),n.a.createElement(N,{schedule:t,index:a}))},L=a(20),O=a.n(L),k=a(34),S=a(5),C=a(50),A=a(382),T=a(383),D=a(384),F=function(e){var t=e.schedule,a=e.index,c=Object(r.g)().setFieldValue,s=Object(l.useRef)(),i=Object(l.useRef)(),m=Object(l.useState)(""),o=Object(S.a)(m,2),u=o[0],d=o[1],p=Object(l.useState)(!1),f=Object(S.a)(p,2),b=f[0],v=f[1];Object(l.useEffect)((function(){t.imagethmb&&d(t.imagethmb)}),[]);var h=function(){s.current.click()},E=function(){var e=Object(k.a)(O.a.mark((function e(t){var a,l,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),a=t.target.files,(l=new FormData).append("file",a[0]),l.append("upload_preset","schedules"),e.next=7,fetch("https://api.cloudinary.com/v1_1/dftxjfft8/image/upload",{method:"POST",body:l});case 7:return n=e.sent,e.next=10,n.json();case 10:r=e.sent,v(!1),r.secure_url&&(d(r.secure_url),c(s.current.name,r.secure_url),c(i.current.name,r.eager[0].url));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"flex flex-col items-center form-control text-center"},n.a.createElement(r.b,null,(function(){return n.a.createElement("div",null,n.a.createElement("input",{type:"file",name:"scheduleList[".concat(a,"].image"),ref:s,id:"scheduleList[".concat(a,"].image"),onChange:E,accept:".jpeg,.png,.jpg",style:{display:"none"}}))})),n.a.createElement(r.b,null,(function(){return n.a.createElement("div",null,n.a.createElement("input",{type:"text",ref:i,name:"scheduleList[".concat(a,"].imagethmb"),id:"scheduleList[".concat(a,"].imagethmb"),style:{display:"none"}}))})),n.a.createElement("div",{className:"flex items-center justify-center rounded-md border border-gray-600 h-24 w-24 overflow-hidden mt-1 object-cover relative"},!u&&!b&&n.a.createElement(A.a,{htmlColor:"#4a5568",fontSize:"large",titleAccess:"Add Image","aria-label":"Add Image",className:"mb-1 mr-1 hover:text-gray-300 cursor-pointer",onClick:h}),b&&n.a.createElement("div",{className:"content-center lds-dual-ring cursor-wait"}),u&&!b&&n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{src:u,className:"object-cover",alt:"preview"}),n.a.createElement("div",{className:"flex w-24 px-4 absolute bottom-0 mb-1 justify-around"},n.a.createElement(T.a,{className:"text-gray-400 hover:text-white cursor-pointer",titleAccess:"Replace Image","aria-label":"Replace Image",onClick:h}),n.a.createElement(D.a,{className:"text-gray-400 hover:text-white cursor-pointer",titleAccess:"Replace Remove","aria-label":"Remove Image",onClick:function(){d(""),c(s.current.name,"")}})))),n.a.createElement(r.a,{name:"scheduleList[".concat(a,"].image"),component:C.a}))};t.a=function(e){var t=Object(r.g)(),a=t.values,l=t.errors,s=t.setFieldValue;return n.a.createElement(r.c,{name:"scheduleList",render:function(t){t.insert;var u=t.remove,d=t.push;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"w-full"},n.a.createElement(m.a,{initial:!1},a.scheduleList.map((function(t,a){return n.a.createElement(m.b.div,{key:a,className:"border border-gray-600 border-solid bg-gray-900 rounded-lg px-4 py-2 mb-6 flex flex-col justify-between leading-normal relative",layout:!0,initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},transition:{delay:.2},exit:{opacity:0,scale:.2,transition:{duration:.3}}},n.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},n.a.createElement("div",{className:"w-full md:w-2/12 px-3 mb-6 md:mb-0"},n.a.createElement(F,{schedule:t,index:a})),n.a.createElement("div",{className:"flex flex-col w-full md:w-10/12"},n.a.createElement("div",{className:"flex flex-row"},n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-4"},n.a.createElement(p.a,{control:"input",type:"text",label:"Band/Artist/Presenter",name:"scheduleList[".concat(a,"].presenter"),value:t.presenter})),n.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-4"},n.a.createElement(p.a,{control:"input",type:"text",label:n.a.createElement(n.a.Fragment,null,"Venue/Stage"),name:"scheduleList[".concat(a,"].stage"),value:t.stage}))),n.a.createElement("div",{className:"flex flex-row"},n.a.createElement("div",{className:"w-full md:w-4/12 px-3 mb-6 md:mb-4"},n.a.createElement("label",{htmlFor:"scheduleList[".concat(a,"].startTime"),className:"text-gray-500"},"Start Time"),n.a.createElement(c.a,{defaultValue:i()(),value:i()("".concat(t.startTime),"HH:mm"),showSecond:!1,minuteStep:5,name:"scheduleList[".concat(a,"].startTime"),id:"scheduleList[".concat(a,"].startTime"),className:"text-gray-500",onChange:function(e){s("scheduleList[".concat(a,"].startTime"),e.format("HH:mm"),!1)}}),n.a.createElement("p",{className:"text-red-500 text-xs italic"},Object(r.f)(l,"scheduleList[".concat(a,"].startTime")))),n.a.createElement("div",{className:"w-full md:w-4/12 px-3 mb-6 md:mb-4"},n.a.createElement("label",{htmlFor:"scheduleList[".concat(a,"].endTime"),className:"text-gray-500"},"End Time"),n.a.createElement(c.a,{defaultValue:i()(),value:i()("".concat(t.endTime),"HH:mm"),showSecond:!1,minuteStep:5,name:"scheduleList[".concat(a,"].endTime"),id:"scheduleList[".concat(a,"].endTime"),onChange:function(e){s("scheduleList[".concat(a,"].endTime"),e.format("HH:mm"),!1)}}),n.a.createElement("p",{className:"text-red-500 text-xs italic"},Object(r.f)(l,"scheduleList[".concat(a,"].endTime")))),n.a.createElement("div",{className:"w-full md:w-4/12 px-3 mb-6 md:mb-4",style:{position:"relative"}},e.values.daysQty>1?n.a.createElement(p.a,{control:"select",label:"Day",name:"scheduleList[".concat(a,"].day"),options:e.values.daysQty,value:t.day}):null)))),n.a.createElement(j,{schedule:t,index:a}),n.a.createElement("span",{className:"absolute top-0 right-0 px-1 py-1"},n.a.createElement("svg",{className:"fill-current h-6 w-6",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:function(){return u(a)}},n.a.createElement("title",null,"Close"),n.a.createElement("path",{fill:"#5a67d8",d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"}))))})))),n.a.createElement(o.a,{inverse:!0,type:"button",onClick:function(){return d({presenter:"",etitle:"",stage:"",startTime:i()().format("HH:mm"),endTime:i()().format("HH:mm"),day:1,image:"",imagethmb:"",biography:"",socialList:{facebook:"",twitter:"",youtube:"",soundcloud:""}})}},"Add to list"))}})}},385:function(e,t,a){"use strict";a.r(t);var l=a(113),n=a(20),r=a.n(n),c=a(34),s=a(5),i=a(0),m=a.n(i),o=a(10),u=a(13),d=a(132),p=a.n(d),f=a(44),b=a(311),v=a(47),h=a(310),E=a(38),x=a(6),g=a(36),y=a(26),w=a(39),N=a(37),j=(a(151),f.d().shape({logo:f.f().url("Something went wrong. Please try again"),title:f.f().required("Please enter the name of your event"),description:f.f().min(10,"Please enter a longer description (minimum of 10 characters").required("Please enter a brief description of your event"),startDate:f.b().min(new Date,"Date must be in the future").required("A start date is required"),daysQty:f.c().required("Please enter the number of days of your event"),scheduleList:f.a().of(f.d().shape({presenter:f.f().required("Please enter the name of the presenter or artist"),startTime:f.f().required("A start time is required"),endTime:f.f().required("A finish time is required"),etitle:f.f(),stage:f.f().required("A venue/stage is required"),day:f.c().required("Please select the day"),socialList:f.d().shape({facebook:f.f().url("A enter a valid link, including https://"),twitter:f.f().url("A enter a valid link, including https://"),youtube:f.f().url("A enter a valid link, including https://"),soundcloud:f.f().url("A enter a valid link, including https://")})}))}));t.default=function(){var e=Object(i.useContext)(w.a),t=Object(N.a)(),a=t.isLoading,n=t.error,d=t.sendRequest,f=t.clearError,L=Object(i.useState)(),O=Object(s.a)(L,2),k=O[0],S=O[1],C=Object(o.i)().scheduleId,A=Object(o.g)(),T=Object(i.useState)(),D=Object(s.a)(T,2),F=D[0],R=D[1];return Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("".concat("https://event-schedule-application.herokuapp.com/api","/schedules/").concat(C));case 3:t=e.sent,S(t.schedule),R(new Date(t.schedule.startDate)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[A,C,d]),a?m.a.createElement(y.a,{asOverlay:!0}):k||n?m.a.createElement("div",{className:"max-w-screen-md w-full mx-auto flex flex-col"},m.a.createElement(g.a,{error:n,onClear:f}),m.a.createElement("h1",{className:"pl-8 mb-4"},"Update Event"),m.a.createElement(u.e,{initialValues:{logo:k.logo,title:k.title,description:k.description,startDate:k.startDate,daysQty:k.daysQty,scheduleList:k.scheduleList},validationSchema:j,validateOnChange:!1,validateOnBlur:!1,enableReinitialize:!0,onSubmit:function(){var t=Object(c.a)(r.a.mark((function t(a,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=n.setSubmitting)({values:a}),t.prev=2,t.next=5,d("".concat("https://event-schedule-application.herokuapp.com/api","/schedules/").concat(C),"PATCH",JSON.stringify(Object(l.a)({},a)),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 5:A.push("/"+e.userId+"/schedules"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:c(!1);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()},(function(e){var t=e.values,l=e.isSubmitting,n=e.setFieldValue,r=e.touched,c=e.errors,s=e.handleChange;return m.a.createElement(u.d,{className:"bg-gray-900 shadow-md rounded-lg px-8 pt-6 pb-8 mb-4 w-full mt-20"},a&&m.a.createElement(y.a,{asOverlay:!0}),m.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},m.a.createElement("div",{className:"w-full md:w-2/12 px-3 mb-6 md:mb-0"},m.a.createElement(h.a,{name:"logo",label:"Event Logo",value:t.logo})),m.a.createElement("div",{className:"w-full md:pl-1 md:w-10/12"},m.a.createElement("div",{className:"mb-4"},m.a.createElement(v.a,{control:"input",type:"text",label:"Title",name:"title"})),m.a.createElement("div",{className:"mb-4"},m.a.createElement(v.a,{control:"textarea",label:"Description",name:"description",rows:"3"})),m.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-4"},m.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},m.a.createElement("label",{htmlFor:"startDate",className:"text-gray-400 block w-full"},"Start Date"),m.a.createElement(p.a,{selected:F,onChange:function(e){n("startDate",e),R(e)},selectsStart:!0,startDate:F,dateFormat:"dd/MM/yyyy",name:"startDate",className:"form-input mt-1 block w-full bg-gray-800 text-gray-400 rounded-md border-none p-3"}),c.startDate&&r.startDate?m.a.createElement("p",{className:"text-red-500 text-xs italic"},c.startDate):null),m.a.createElement("div",{className:"w-full md:w-1/2 px-3"},m.a.createElement(v.a,{control:"input",type:"number",label:"How many days is the event?",name:"daysQty",min:"1"}))))),m.a.createElement("h2",{className:"py-4"},"Update Event List"),m.a.createElement(b.a,{values:t,setFieldValue:n,onChange:s}),m.a.createElement(x.a,{default:!0,disabled:l,type:"submit"},"Submit"))}))):m.a.createElement("div",{className:"center"},m.a.createElement(E.a,null,m.a.createElement("h2",null,"Schedule could not be found")))}}}]);
//# sourceMappingURL=6.99528f59.chunk.js.map