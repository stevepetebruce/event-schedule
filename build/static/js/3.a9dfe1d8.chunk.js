(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[3],{380:function(e,t,a){"use strict";var n=a(8),r=a(0),l=a.n(r);t.a=function(e){var t=e.title,a=(new Date).toLocaleTimeString(),c=Object(r.useState)(a),i=Object(n.a)(c,2),s=i[0],o=i[1];return setInterval((function(){!function(){var e=(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});o(e)}()}),1e3),l.a.createElement("header",{className:"flex w-full justify-between h-16 items-center fixed top-0 left-0 bg-gray-800 text-gray-600 px-6 md:px-20 z-10"},l.a.createElement("h2",null,t),l.a.createElement("h2",null,s))}},382:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),l=a(22),c=a(116),i=a(8),s=a(0),o=a.n(s),u=a(16),m=a(383),f=a(142),d=a(39),h=a(38),b=a(29),p=function(e){var t=e.timeDuration,a=Object(s.useState)({}),n=Object(i.a)(a,2),r=n[0],l=n[1];return Object(s.useEffect)((function(){t.length<5?l({width:"300px"}):l({width:"200px"})}),[t]),o.a.createElement("div",{className:"flex"},o.a.createElement("ul",{className:"flex h-6 text-indigo-200 mt-2"},t.map((function(e){return o.a.createElement("li",{className:"border-r border-indigo-600",key:e,style:r},o.a.createElement("h3",{className:"pl-2"},e))}))))};var g=function(e){var t=e.stages;return o.a.createElement("aside",{className:"flex-col items-center h-full text-white leading-tight bg-gray-800",style:{background:"hsla(0, 0%, 0%, 0.05)"}},o.a.createElement("div",{className:"h-8 flex items-center w-full"}),o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",{className:"h-16 px-4 flex justify-center items-center w-full border-b border-gray-800 text-sm",key:e},e)}))))},v=a(114),E={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{ease:"easeOut",duration:.5,delay:.5,staggerChildren:.7}}},y={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{ease:"easeOut",duration:.5}}};var x=function(e){var t=e.event,a=e.show;return o.a.createElement("div",{className:"flex flex-col h-full"},o.a.createElement("div",{className:"pb-32 md:px-6 flex-1 overflow-y-auto scrolling-touch"},o.a.createElement(f.a,null,t.image&&o.a.createElement(f.b.img,{className:"float-right ml-4 my-2 pb-4 w-full sm:w-2/4",src:t.image,alt:t.presenter,initial:{opacity:0},animate:{opacity:1,transition:{ease:"easeOut",delay:.3,duration:.7}}}),a&&o.a.createElement(f.b.div,{variants:E,initial:"hidden",animate:"show"},o.a.createElement(f.b.h2,{className:"py-3",variants:y},t.presenter),o.a.createElement(f.b.p,{className:"whitespace-pre-line",variants:y},t.biography)))))},w=a(195),O=a.n(w),j=a(197),N=a.n(j),D=a(198),k=a.n(D),L=a(376),S=a(194),T=a.n(S);var C=function(e){var t=e.event;return o.a.createElement("div",{className:"py-3 px-2 md:px-6 flex flex-row absolute inset-x-0 bottom-0 bg-gray-900"},t.socialList.facebook&&o.a.createElement("a",{href:t.socialList.facebook,target:"_blank",rel:"noopener noreferrer",className:"mx-2"},o.a.createElement(O.a,{htmlColor:"#3b5998",fontSize:"large"})),t.socialList.twitter&&o.a.createElement("a",{href:t.socialList.twitter,target:"_blank",rel:"noopener noreferrer",className:"mx-2"},o.a.createElement(N.a,{htmlColor:"#4099ff",fontSize:"large"})),t.socialList.youtube&&o.a.createElement("a",{href:t.socialList.youtube,target:"_blank",rel:"noopener noreferrer",className:"mx-2"},o.a.createElement(k.a,{htmlColor:"#c4302b",fontSize:"large"})),t.socialList.soundcloud&&o.a.createElement("a",{href:t.socialList.soundcloud,target:"_blank",rel:"noopener noreferrer",className:"ml-3 mt-2"},o.a.createElement(L.a,null,o.a.createElement("img",{src:T.a,height:22,width:26,alt:"SoundCloud"}))))};var I=function(e){var t=e.event,a=e.timeDuration,n=e.eventDay,r=Object(s.useState)({}),l=Object(i.a)(r,2),c=l[0],u=l[1],m=Object(s.useState)(!1),d=Object(i.a)(m,2),h=d[0],b=d[1];return Object(s.useEffect)((function(){var e,n=function(e,t){return Number(e.split(":")[t])},r=n(a[0],0),l=n(t.startTime,0),c=n(t.startTime,1),i=n(t.endTime,0),s=n(t.endTime,1);e=i<l?60*(i+24)+s-(60*l+c):60*i+s-(60*l+c),l<5&&(l+=24),a.length<5?u({marginLeft:300*(l-r)+c/60*300+"px",width:e/60*300}):u({marginLeft:200*(l-r)+c/60*200+"px",width:e/60*200})}),[t,a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{show:h,cancel:h,modal:"modal-wide bg-gray-900",header:o.a.createElement("div",{className:"flex justify-end"},o.a.createElement(f.b.button,{onClick:function(){b(!1)},className:"text-xl",whileHover:{scale:1.4,rotate:90}},"\u2715")),footer:o.a.createElement(C,{event:t})},o.a.createElement(x,{event:t,show:h})),parseInt(t.day)===parseInt(n)&&o.a.createElement(f.b.div,{className:"bg-orange-100 hover:bg-orange-200 focus:outline-none focus:shadow-outline cursor-pointer h-16 flex flex-row items-center rounded absolute",style:c,onClick:function(){t.biography&&b(!0)},whileHover:{scale:1.1,zIndex:2,boxShadow:"0px 0px 4px 3px rgba(0, 0, 0, 0.2)"}},t.imagethmb&&o.a.createElement("img",{src:t.imagethmb,alt:t.presenter,className:"h-16 w-16 object-cover rounded-l"}),o.a.createElement("div",{className:"pl-3 overflow-x-auto"},o.a.createElement("h3",{className:"font-semibold text-lg leading-tight truncate text-blue-900"},t.presenter),o.a.createElement("div",{className:"text-gray-700 text-sm"},t.startTime,"-",t.endTime))))},M={hidden:{opacity:0,y:-10},show:{opacity:1,y:0,transition:{ease:"easeOut",duration:.3,staggerChildren:.08}}},z={hidden:{opacity:0,y:-10},show:{opacity:1,y:0,transition:{ease:"easeOut",duration:.3}}},F={hidden:{opacity:0},show:{opacity:1,transition:{ease:"easeInOut",duration:1,delay:.4}}};var A=function(e){var t=e.stages,a=e.eventList,n=e.timeDuration,r=e.eventDay,l=e.tabAnimate,c=Object(s.useState)({}),u=Object(i.a)(c,2),m=u[0],d=u[1];return Object(s.useEffect)((function(){n.length<5?d({width:300*n.length+"px"}):d({width:200*n.length+"px"})}),[n]),a[t[0]]&&o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(f.b.div,{variants:M,initial:"hidden",animate:"show"},t.map((function(e,t){return o.a.createElement(f.b.div,{className:"h-16 flex border-b border-indigo-700 border-dashed w-screen relative",key:t,style:m,variants:z},a[e].map((function(e,t){return o.a.createElement(f.b.div,{variants:F,key:t},o.a.createElement(I,{key:e.presenter,event:e,timeDuration:n,eventDay:r}))})))}))))||o.a.createElement("div",{className:"h-16 flex items-center text-indigo-200 mt-20"},"No events to display")},H=a(380);a(381),a(382),t.default=function(e){var t=Object(u.m)().scheduleId,a=Object(d.a)(),n=a.isLoading,v=a.error,E=a.sendRequest,y=a.clearError,x=Object(s.useState)(),w=Object(i.a)(x,2),O=w[0],j=w[1],N=Object(s.useState)([]),D=Object(i.a)(N,2),k=D[0],L=D[1],S=Object(s.useState)([]),T=Object(i.a)(S,2),C=T[0],I=T[1],M=Object(s.useState)({}),z=Object(i.a)(M,2),F=z[0],_=z[1],B=Object(s.useState)([]),J=Object(i.a)(B,2),Q=J[0],U=J[1],Y=Object(s.useState)(0),q=Object(i.a)(Y,2),R=q[0],G=q[1],K=Object(s.useState)(!0),P=Object(i.a)(K,2),V=P[0],W=P[1],X=function(e){var t=e.daysQty,a=e.startDate;if(!(t<=1)){var n=new Date;n.setHours(n.getHours()-5);var r=function(e,t){var a=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())-a)/864e5;return Math.abs(n)}(n,a=new Date(a));a>n?G(0):r<t?G(r):console.log("Event finished")}};return Object(s.useEffect)((function(){O||function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("".concat("https://event-schedule-application.herokuapp.com/api","/schedules/").concat(t));case 3:a=e.sent,j(a.schedule),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(s.useEffect)((function(){O&&(X(O),function(e){for(var t=e.scheduleList.map((function(e){return parseInt(e.startTime.split(":")[0])<5?24:parseInt(e.startTime.split(":")[0])})),a=e.scheduleList.map((function(e){return parseInt(e.endTime.split(":")[0],10)<5?parseInt(e.endTime.split(":")[0])+24:parseInt(e.endTime.split(":")[0])})),n=Math.min.apply(Math,Object(c.a)(t)),r=Math.max.apply(Math,Object(c.a)(a))+1,l=function(e){L(e>23?function(t){return[].concat(Object(c.a)(t),[("0"+(e-24)).slice(-2)+":00"])}:function(t){return[].concat(Object(c.a)(t),[("0"+e).slice(-2)+":00"])})},i=n;i<=r;i++)l(i)}(O),function(e){var t=e.scheduleList.map((function(e){return e.stage})),a=t.filter((function(e,a){return t.indexOf(e)===a}));I(a)}(O),function(e){var t=e.scheduleList.reduce((function(e,t){return e[t.stage]=e[t.stage]||[],e[t.stage].push(t),e}),{});_(t)}(O),U(Object(c.a)(Array(O.daysQty))))}),[O]),Object(s.useEffect)((function(){W(!0)}),[V]),o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{error:v,onClear:y}),n&&o.a.createElement("div",{className:"center"},o.a.createElement(b.a,{asOverlay:!0})),o.a.createElement(H.a,O),!n&&O&&Q.length>1&&o.a.createElement("div",{className:"h-screen overflow-y-scroll w-full bg-gray-900 pt-20"},o.a.createElement(f.a,{exitBeforeEnter:!0},o.a.createElement(m.e,{defaultIndex:R,onChange:function(){return W(!1)}},o.a.createElement(m.b,null,Q.map((function(e,t){return o.a.createElement(m.a,{key:t+1},o.a.createElement("h3",null,"Day ",t+1))}))),o.a.createElement(m.d,null,Q.map((function(e,t){return o.a.createElement(m.c,{key:t},o.a.createElement("div",{className:"w-screen h-full flex"},o.a.createElement(g,{stages:C}),o.a.createElement("div",{className:"flex flex-col overflow-x-scroll scrolling-touch pb-4"},o.a.createElement(p,{timeDuration:k}),o.a.createElement(A,{stages:C,eventList:F,timeDuration:k,eventDay:t+1,tabAnimate:V}))))})))))),!n&&O&&Q.length<=1&&o.a.createElement("div",{className:"h-screen flex overflow-hidden w-full bg-gray-900 pt-20"},o.a.createElement(f.a,{exitBeforeEnter:!0},o.a.createElement(g,{stages:C}),o.a.createElement("div",{className:"flex flex-col overflow-x-scroll scrolling-touch pb-4"},o.a.createElement(p,{timeDuration:k}),o.a.createElement(A,{stages:C,eventList:F,timeDuration:k,eventDay:1,tabAnimate:V})))))}}}]);
//# sourceMappingURL=3.a9dfe1d8.chunk.js.map